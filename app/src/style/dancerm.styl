/******************************************************************************
 * Inclusions
 */

@import '../style/css/bootstrap.css'
@import '../style/css/nv.d3.css'

declareFonts()

// defined to remove pipette that are not defined in a given theme
.pipette
  background rgba(255, 0, 255, 0)

@require 'animation'
@require 'main_layout'
@require 'directive/app_menu'
@require 'directive/invoice_item'
@require 'directive/layout'
@require 'directive/lesson_list'
@require 'directive/planning'
@require 'directive/registration'
@require 'directive/tags'
@require 'controller/card'
@require 'controller/conflicts'
@require 'controller/invoice'
@require 'controller/lessons'
@require 'controller/register'
@require 'controller/search_dancer'
@require 'controller/settings'
@require 'controller/stats'

/******************************************************************************
 * Typography
 */

body
  color textColor
  font-family textFont

  *
    font-family textFont
    font-size fontSize
    -webkit-user-select none
    cursor default

  input, textarea
    -webkit-user-select text
    cursor text

  for i in (1..3)
    h{i}
      border-top 2px solid headingColor
      color headingColor
      font-family headingFont
      font-weight normal
      font-size (fontSize*(1+0.2*(5-i)))
      margin 0

  input.ng-invalid
  input.invalid
  textarea.invalid
  .dropdown-toggle.invalid
    background-color errorColor !important
    color errorTextColor !important

  input:not(:hover):not(:focus):not(.invalid)
  textarea:not(:hover):not(:focus):not(.invalid)
  input:not(:hover):not(:focus):not(.ng-invalid)
  textarea:not(:hover):not(:focus):not(.ng-invalid)
    background rgba(inputColor, 7%)
    color textColor
    border-color transparent
    box-shadow none

  .glyphed > .glyphicon:first-child
    margin 0 6px 0 -3px

  :focus
    outline none

/******************************************************************************
 * Focusable components
 */

body

  .focusable
    input, textarea, .input-group-addon, .btn
      transition background focusDuration, border focusDuration, color focusDuration

  .focusable:not(:hover)

    input:not(:focus)
    textarea:not(:focus)
    .btn.dropdown-toggle
    .input-group-addon:first-child
    .input-group-addon:last-child
      border-color transparent
      background transparent

    .btn.dropdown-toggle
    .input-group-addon:first-child
    .input-group-addon:last-child
      color rgba(textColor, 50%)

    .btn
      background transparent
      color rgba(textColor, 50%)
      border-color transparent

/******************************************************************************
 * Bootstrap overload
 */

body

  h1, h2, h3
    line-height 40px

  label
    font-weight normal

  .table>thead>tr>th
    border-bottom 0
  .table>thead>tr
    border-bottom 2px solid tableBorderColor

  .glyphicon
  .caret
    top 2px
    cursor pointer

  .modal-dialog
    margin-top 10%

  .modal-content
    background mainBackground
    border-radius 0 2em

    .modal-header
      background headerColor
      border none
      border-radius 0 2em 0 0

      h3
        color headerBackground
        border none

    .modal-footer
      background colBackground
      padding 10px
      border-radius 0 0 0 2em
      border none
      box-shadow none

  .nvtooltip
    font-family "Helvetica Neue", Helvetica, Arial, sans-serif
    background transparent
    border none

  .tooltip
  .nvtooltip
    z-index 1100
    .tooltip-inner
      padding .5em 1em
      background infoColor

    .highlight
      display inline-block
      width 1em
      height 1em
      border 1px solid white
      border-radius 25%
      vertical-align bottom

    &.top
    &.bottom
      .tooltip-arrow
        border-top-color infoColor

    &.fade.in
      opacity 1

  .dropdown-menu
    text-align left
    background btnBackground
    padding 0

    li > a:hover
      transition background focusDuration, color focusDuration
      background mainBackground
      color textColor
      cursor pointer

    li.divider
      background-color mainBackground

  .dropdown-menu.right
    left auto
    right 0

  .btn.dropdown-toggle:focus
    box-shadow 0 0 0 1px focusColor

  .btn-group.open .btn.dropdown-toggle
    background btnBackgroundHover

  select
  textarea
  input:not([type="checkbox"])
  input:not([type="radio"])
    padding 4px 6px

  input[type="checkbox"]
  input[type="radio"]
    cursor pointer

  textarea:hover
  input:not([type="checkbox"]):hover
  input:not([type="radio"]):hover
    border-color tableBorderColor

  blockquote
    background-color headerBackground
    > p
      color focusColor

  select:focus
  textarea:focus
  input[type="text"]:focus
  input[type="number"]:focus
  input[type="email"]:focus
  input[type="url"]:focus
  input[type="search"]:focus
  input[type="tel"]:focus
  .uneditable-input:focus
    background-color focusBackground
    border-color focusColor
    box-shadow 0 0 8px focusColor
    outline focusColor auto 5px
    color focusTextColor

  a:focus:not(.nav-link)
  button:focus
  .btn:focus
    box-shadow 0 0 3px 1px focusColor
    outline 0

  textarea
  input[type="text"]
  input[type="number"]
  input[type="email"]
  input[type="url"]
  input[type="search"]
  input[type="tel"]
  .uneditable-input
    transition all focusDuration
    background-color inputColor
    border-width 1px
    border-radius inputRadius
    color focusTextColor

  .text-error
    color lighten(errorColor, 10%)

  .input-group
    input:first-child
      border-radius inputRadius 0 0 inputRadius
      font-size fontSize

    input:last-child
      border-radius inputRadius 0 0 inputRadius
      font-size fontSize

    .input-group-addon
      background-color headerBackground
      color headerColor
      border-color textColor
      text-shadow none

      &:last-child
        border-left 1px solid textColor
      &:first-child
        border-right 1px solid textColor
      &[href]
      &[href] > i
        cursor pointer

  .btn > .caret
    display inline-block
    margin-left 5px

  .btn
    transition background focusDuration, color focusDuration
    padding 4px 12px
    color btnColor
    font-size fontSize
    border-color rgba(0, 0, 0, 0.25)
    background-color btnBackground
    background-image btnBackground

  .btn:hover, .btn:focus, .btn:active, .btn.active, .btn.disabled, .btn[disabled]
    color btnColor
    background-color btnBackgroundHover
    background-image btnBackgroundHover

  .btn-primary, .btn.active
    color emphasisColor
    background-color primaryBtnBackground
    background-image primaryBtnBackground

  .btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active, .btn-primary.disabled, .btn-primary[disabled]
    background-color primaryBtnBackgroundHover
    background-image primaryBtnBackgroundHover

  .btn-warning
    color btnColor
    background-color warningBtnBackground
    background-image warningBtnBackground

  .btn-warning:hover, .btn-warning:focus, .btn-warning:active, .btn-warning.active, .btn-warning.disabled, .btn-warning[disabled]
    background-color warningBtnBackgroundHover
    background-image warningBtnBackgroundHover

  .btn-danger
    color errorTextColor
    background-color dangerBtnBackground
    background-image dangerBtnBackground

  .btn-danger:hover, .btn-danger:focus, .btn-danger:active, .btn-danger.active, .btn-danger.disabled, .btn-danger[disabled]
    background-color dangerBtnBackgroundHover
    background-image dangerBtnBackgroundHover

  .btn-success
    color btnColor
    background-color successBtnBackground
    background-image successBtnBackground

  .btn-success:hover, .btn-success:focus, .btn-success:active, .btn-success.active, .btn-success.disabled, .btn-success[disabled]
    background-color successBtnBackgroundHover
    background-image successBtnBackgroundHover

  .btn-info
    color btnColor
    background-color primaryBtnBackground
    background-image primaryBtnBackground

  .btn-info ~ .dropdown-menu
    background primaryBtnBackground

  .btn-info:hover, .btn-info:focus, .btn-info:active, .btn-info.active, .btn-info.disabled, .btn-info[disabled]
    background-color infoBtnBackgroundHover

  .dropdown-menu

    &.uib-datepicker-popup
    .uib-datepicker-popup

      background headerBackground
      padding 5px

      thead > tr > th
        text-align center

        .uib-title
          display inline-block
          width 96%

      tbody .btn
        background mainBackground
        color headerColor

      tbody .btn.active
        background emphasisColor

        .text-info
          color headerColor